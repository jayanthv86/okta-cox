
<main role="main" class="container">
	<div class="starter-template">

		<div class="row">

			<div class="col-6">

				<h2>{{welcome_msg}}</h2>

				<div id = "welcome" style = "display: none">
					<p>It's great to have you here, <span id="un" style="background: yellow"></span>!</p>
				</div>

				<div id = "authn" style = "display: none">
					<p class="lead" style="margin-top:20px">Please sign in or register to get started.</p>

					<div id = "widget-container" style = "display: none"></div>
				</div>

			</div>

			<div class="col-6">

				<img src="{{img_rt_col}}">

			</div>

		</div>
	</div>
</main>

<!-- <script src="https://tom-smith-okta.s3.us-east-2.amazonaws.com/okta-auth-js/okta-auth-js.min.js" type="text/javascript"></script>
 -->
<script>
var config = {
	// The URL for your Okta organization
	url: 'https://dev-788660.okta.com'
};

var authClient = new OktaAuth(config);

authClient.session.exists()
.then(function(exists) {
	if (exists) {
		// logged in
		console.log("authn SDK: the user has a session.")
	}
	else {
		// not logged in
		console.log("authn SDK: the user does not have a session.")
	}
});

authClient.signIn({
  username: 'tom.smith',
  password: 'Batman1!'
})
.then(function(transaction) {
	alert("the transaction was submitted!")

  if (transaction.status === 'SUCCESS') {

  	alert("the transaction was a success!")
    // authClient.session.setCookieAndRedirect(transaction.sessionToken); // Sets a cookie on redirect
  } else {
    throw 'We cannot handle the ' + transaction.status + ' status';
  }
})
.fail(function(err) {
  console.error(err);
});

</script>
